- defaults:
    link:
      relink: true
    brewfile:
      stdout: true
      stderr: true
      stdin: true
      include: ['tap', 'brew', 'cask', 'mas']

- clean: ['~','~/.config', '~/.vim/bundle']

- shell:
    - [git submodule update --init --recursive, Installing submodules]
    -
      command: ./macos/setup-homebrew.sh
      description: Installing Homebrew and Essential Packages
      stdout: true
      stderr: true
      stdin: true

- link:
    ~/.dotfiles: ''
    ~/.zshrc: zsh/zshrc
    ~/.zshenv: zsh/zshenv
    ~/.zprofile: zsh/zprofile
    ~/.gitconfig: git/gitconfig
    ~/.gitignore_global: git/gitignore_global
    ~/.vimrc: vim/vimrc
    ~/.npmrc: npm/npmrc

- create:
    - ~/.vim/bundle

- shell:
    - [git clone https://github.com/VundleVim/Vundle.vim.git ~/.vim/bundle/Vundle.vim, Install Vim Vundel]
    - vim +PluginInstall +qall

- brewfile:
    file: macos/Brewfile

- shell:
    - [source ~/.zshenv, Source .zshenv to prepare for asdf setup]

- asdf:
    - plugin: python
      url: https://github.com/asdf-community/asdf-python.git
      global: 3.11.6
      versions:
        - 3.11.6
      stdout: true
      stderr: true
    - plugin: nodejs
      url: https://github.com/asdf-vm/asdf-nodejs.git
      global: 20.9.0
      versions:
        - 20.9.0
        - latest
      stdout: true
      stderr: true

- git:
    '$HOME/repo/powerline-fonts':
      url: 'git@github.com:powerline/fonts.git'
      description: 'Powerline Fonts'

- if:
    - cond: '[ -d "$HOME/repo/powerline-fonts" ]'
      met:
      - shell: ~/repo/powerline-fonts/install.sh
      unmet:
      - shell:
        - echo Powerline Fonts not found!


